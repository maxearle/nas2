**03/09/2025 Max Earle**
"""Here are the files for the extractor GUI program, for extracting events from the baseline in a nanopore impedance sensing measurement. To start the GUI, run extractor.py. First, supply or browse for a directory containing the tdms files with your measurement data using the text field and button in the top left. Then click 'Validate choice and start' in the top right to load the files and start the program. At this point the extractor settings in the bottom left will be locked, so make sure these are set correctly first. Default settings on startup are stored in cfg.txt in this directory, and can be modified if desired.
The settings are:
-Measurement sample rate; set this correctly for your measurement so that downstream analysis has this information available and the 'duration_s' field of the properties dataframe is scaled accurately.
-Event threshold /nA; the current level below baseline that will mark the start and end of extracted events. This should be set low enough that it's below the average current drop induced by the analyte, but greater than the magnitude of baseline noise.
-Event berth; This determines the number of extra samples included each side of a current event to be saved with the event data.
-Gap tolerance; This sets the number of consecutive samples for which current can be allowed to be above the threshold before recovery whilst being counted as the same event. This prevents momentary swings due e.g. to noise from incorrectly splitting events up into pieces.
Once the first file has been loaded, the buttons on the control panel in the bottom right can be used to accept and reject events, continuously accept events or skip noisy files. The 'toggle turbo mode' button deactivates plotting increasing the rate at which the program can process events. 'Pause' stops the currently active 'keep accepting' or 'keep rejecting' action, and 'finish' allows the events extracted so far to be safely saved and relevant files closed. This will also happen if the program reaches the end of the last tdms file in the directory.
Data will be saved as an 'EVENTS.HDF5' file in the directory where the tdms files are located, and a 'props.pkl' dataframe will be stored containing event properties for downstream analysis. The 'EVENTS.HDF5' file has a main 'current_data' group containing the named event datasets."""
